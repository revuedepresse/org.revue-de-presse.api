<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Introduction - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.validate.html">Zend_Validate</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.validate.html">Zend_Validate</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.validate.set.html">Classes de validation standard</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.validate.introduction" class="section"><div class="info"><h1 class="title">Introduction</h1></div>
    

    <p class="para">
        Le composant <span class="classname">Zend_Validate</span> fournit un ensemble de validateurs
        usuels. Il fournit également un mécanisme simple de chaînage permettant d&#039;appliquer de
        multiples validateurs à une donnée dans un ordre défini par l&#039;utilisateur.
    </p>

    <div class="section" id="zend.validate.introduction.definition" name="zend.validate.introduction.definition"><div class="info"><h1 class="title">Qu&#039;est-ce qu&#039;un validateur ?</h1></div>
        

        <p class="para">
            Un validateur examine ce qui lui est soumis suivant certaines règles et retourne
            un résultat booléen, si la donnée est conforme aux exigences. Si ce n&#039;est pas le cas, un
            validateur peut de manière optionnelle fournir des informations concernant la (ou les)
            règle(s) non remplie(s).
        </p>

        <p class="para">
            Par exemple, une application Web peut réclamer qu&#039;un identifiant comprennent entre
            six et douze caractères et ne contiennent que des caractères alphanumériques. Un
            validateur peut être utilisé pour s&#039;assurer que les identifiants remplissent ces règles.
            Si un identifiant donné ne respecte pas l&#039;une ou plusieurs de ces règles, il sera utile
            de savoir laquelle ou lesquelles en particulier.
        </p>
    </div>

    <div class="section" id="zend.validate.introduction.using" name="zend.validate.introduction.using"><div class="info"><h1 class="title">Utilisation basique des validateurs</h1></div>
        

        <p class="para">
            Avoir défini la validation de cette manière fournit la fondation de
            <span class="classname">Zend_Validate_Interface</span>, qui définit deux méthodes,
             <span class="methodname">isValid()</span> et  <span class="methodname">getMessages()</span>. La méthode  <span class="methodname">isValid()</span>
            réalise la validation sur la valeur fournie, en retournant <b><tt>TRUE</tt></b> si et
            seulement si la valeur respecte les critères de validation.
        </p>

        <p class="para">
            Si  <span class="methodname">isValid()</span> retourne <b><tt>FALSE</tt></b>,  <span class="methodname">getMessages()</span>
            retourne un tableau de messages expliquant la(es) raison(s) de l&#039;échec de la validation.
            Les clés du tableau sont des chaînes courtes qui identifient les raisons de l&#039;échec de
            la validation, et les valeurs du tableau sont les chaînes de messages humainement
            lisibles correspondantes. Les clés et les valeurs sont dépendantes de la classe ; chaque
            classe de validation définit son propre jeu de messages d&#039;échec de validation et les
            clés uniques qui les identifient. Chaque classe possède aussi une définition de
            constantes (&quot;<code class="code">const</code>&quot;) qui rattachent tout identificateur à une cause d&#039;échec
            de validation.
        </p>

        <p class="para">
            La méthode  <span class="methodname">getErrors()</span> retourne un tableau d&#039;informations courtes qui
            identifient la(es) raison(s) de l&#039;échec de la validation. Ces chaînes sont fournies pour
            identifier les erreurs. Elles sont destinées à votre code d&#039;application, et non à être
            affichées pour l&#039;utilisateur. Ces chaînes sont dépendantes de la classe ; chaque classe
            de validation définit ces propres chaînes pour identifier la cause des erreurs. Chaque
            classe fournit de plus des constantes (<code class="code">const</code>) qui correspondent aux
            identificateurs d&#039;erreur.
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                La méthode  <span class="methodname">getMessages()</span> retourne des informations sur l&#039;échec de
                validation seulement pour l&#039;appel le plus récent de  <span class="methodname">isValid()</span>. Chaque
                appel de  <span class="methodname">isValid()</span> efface les messages et les erreurs déclenchées par
                l&#039;appel précédent, car il est probable que chaque appel de  <span class="methodname">isValid()</span>
                est réalisé pour des données d&#039;entrée différentes.
            <br />
        </p></blockquote>

        <p class="para">
            L&#039;exemple suivant illustre la validation d&#039;une adresse émail : <div class="programlisting"><div class="cdata"><pre>
$validator = new Zend_Validate_EmailAddress();

if ($validator-&gt;isValid($email)) {
    // l&#039;email est valide
} else {
    // l&#039;email est invalide ; affichons pourquoi
    foreach ($validator-&gt;getMessages() as $messageId =&gt; $message) {
        echo &quot;Echec de validation &#039;$messageId&#039; : $message\n&quot;;
    }
}
</pre></div></div>
</p>
        </div>

        <div class="section" id="zend.validate.introduction.messages" name="zend.validate.introduction.messages"><div class="info"><h1 class="title">Messages personnalisés</h1></div>
            

        <p class="para">
            Les classes de validation fournissent une méthode  <span class="methodname">setMessage()</span> avec
            laquelle vous pouvez spécifier le format du message retourné par
             <span class="methodname">getMessages()</span> dans le cas d&#039;un échec de validation. Le premier argument de
            cette méthode est une chaîne contenant le message d&#039;erreur. Vous pouvez inclure des
            balises dans cette chaîne qui seront substituées avec les données appropriées du
            validateur. La balise <code class="code">%value%</code> est supportée par tous les validateurs ; elle
            est substituée par la valeur fournie à  <span class="methodname">isValid()</span>. D&#039;autres balises peuvent
            être supportées aux cas par cas par chaque classe de validation. Par exemple,
            <code class="code">%max%</code> est une balise supportée par
            <span class="classname">Zend_Validate_LessThan</span>. La méthode
             <span class="methodname">getMessageVariables()</span> retourne un tableau des balises de variables
            supportées par le validateur.
        </p>

        <p class="para">
            Le second paramètre optionnel est une chaîne qui identifie le modèle de message
            d&#039;échec de validation qui doit être paramètré, ce qui est pratique quand une classe de
            validation définit plus d&#039;une cause d&#039;échec. Si vous omettez ce second argument,
             <span class="methodname">setMessage()</span> considère que le message, que vous spécifiez, s&#039;applique au
            premier message déclaré dans la classe de validation. La plupart des classes de
            validation n&#039;ayant qu&#039;un seul message d&#039;erreur, il n&#039;est pas nécessaire de spécifier
            distinctement dans ce cas quel message vous affectez.
        </p>

        <p class="para">
            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$validator</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Validate_StringLength<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">8</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$validator</span>-&gt;<span style="color: #006600;">setMessage</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'La chaîne <span style="color: #000099; font-weight: bold;">\'</span>%value%<span style="color: #000099; font-weight: bold;">\'</span> est trop courte ; '</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; . <span style="color: #ff0000;">'elle doit être au moins de %min% caractères'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Validate_StringLength::<span style="color: #006600;">TOO_SHORT</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>!<span style="color: #0000ff;">$validator</span>-&gt;<span style="color: #006600;">isValid</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'word'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$messages</span> = <span style="color: #0000ff;">$validator</span>-&gt;<span style="color: #006600;">getMessages</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <a href="http://www.php.net/current"><span style="color: #000066;">current</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$messages</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// affiche &quot;La chaîne 'word' est trop courte ;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// elle doit être au moins de 8 caractères&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>
</p>

        <p class="para">
            Vous pouvez régler des messages multiples en utilisant la méthode
             <span class="methodname">setMessages()</span>. Son argument dans ce cas est un tableau de paires
            clé/message. <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$validator</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Validate_StringLength<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">8</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$validator</span>-&gt;<span style="color: #006600;">setMessages</span><span style="color: #66cc66;">&#40;</span> <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Validate_StringLength::<span style="color: #006600;">TOO_SHORT</span> =&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'La chaîne <span style="color: #000099; font-weight: bold;">\'</span>%value%<span style="color: #000099; font-weight: bold;">\'</span> est trop courte'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Validate_StringLength::<span style="color: #006600;">TOO_LONG</span>&nbsp; =&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'La chaîne <span style="color: #000099; font-weight: bold;">\'</span>%value%<span style="color: #000099; font-weight: bold;">\'</span> est trop longue'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>
</p>

        <p class="para">
            Si votre application exige une flexibilité encore plus grande avec laquelle elle
            rapporte les échecs de validation, vous pouvez accéder aux propriétés par le même nom
            que les balises de message supportées par une classe de validation donnée. La propriété
            <code class="code">value</code> est toujours accessible dans un validateur ; il s&#039;agit de la valeur
            fournie comme argument à  <span class="methodname">isValid()</span>. D&#039;autres propriétés peuvent être
            supportées au cas par cas par chaque classe de validation. <div class="programlisting"><div class="cdata"><pre>
$validator = new Zend_Validate_StringLength(array(&#039;min&#039; =&gt; 8, &#039;max&#039; =&gt; 12));

if (!validator-&gt;isValid(&#039;word&#039;)) {
    echo &#039;Echec du mot : &#039;
        . $validator-&gt;value
        . &#039; ; sa longueur n\&#039;est pas compris entre &#039;
        . $validator-&gt;min
        . &#039; et &#039;
        . $validator-&gt;max
        . &quot;\n&quot;;
}
</pre></div></div>
</p>
        </div>

        <div class="section" id="zend.validate.introduction.static" name="zend.validate.introduction.static"><div class="info"><h1 class="title">Utilisation de la méthode statique  <span class="methodname">is()</span></h1></div>
            

        <p class="para">
            S&#039;il est peu pratique de charger une classe de validation donnée et créer une
            instance de validateur, vous pouvez utiliser la méthode statique
             <span class="methodname">Zend_Validate::is()</span> comme appel alternatif. Le premier argument
            de cette méthode est la donnée d&#039;entrée, que vous passeriez à la méthode
             <span class="methodname">isValid()</span>. Le deuxième argument est une chaîne, qui correspond au nom de
            base de la classe de validation, relativement dans l&#039;espace de noms
            <span class="classname">Zend_Validate</span>. La méthode  <span class="methodname">is()</span> charge
            automatiquement la classe, crée une instance et applique la méthode
             <span class="methodname">isValid()</span> à la donnée d&#039;entrée. <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Validate::<span style="color: #006600;">is</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$email</span>, <span style="color: #ff0000;">'EmailAddress'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// l'email est valide</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>
</p>

        <p class="para">
            Vous pouvez aussi fournir un tableau de paramètres destinés au constructeur de la
            classe, s&#039;ils sont nécessaires pour votre classe de validation. <div class="programlisting"><div class="cdata"><pre>
if (Zend_Validate::is($value, &#039;Between&#039;, array(array(&#039;min&#039; =&gt; 1, &#039;max&#039; =&gt; 12)))) {
    // $value est compris entre 1 et 12
}
</pre></div></div>
</p>

        <p class="para">
            La méthode  <span class="methodname">is()</span> retourne une valeur booléenne, la même que la méthode
             <span class="methodname">isValid()</span>. Lors de l&#039;utilisation de la méthode statique  <span class="methodname">is()</span>,
            les messages d&#039;échec de validation ne sont pas disponibles.
        </p>

        <p class="para">
            L&#039;utilisation statique peut être pratique pour invoquer un validateur ad hoc, mais
            si vous avez besoin d&#039;exécuter un validateur pour des données multiples, il est plus
            efficace de suivre le premier exemple ci-dessus, créant une instance de l&#039;objet de
            validation et appelant sa méthode  <span class="methodname">isValid()</span>.
        </p>

        <p class="para">
            De plus, la classe <span class="classname">Zend_Filter_Input</span> vous permet
            d&#039;instancier et d&#039;exécuter des filtres multiples et des classes de validateurs sur
            demande pour traiter l&#039;ensemble de données saisies. Voir <a href="zend.filter.input.html" class="xref">Zend_Filter_Input</a>.
        </p>

        <div class="section" id="zend.validate.introduction.static.namespaces" name="zend.validate.introduction.static.namespaces"><div class="info"><h1 class="title">Espaces de noms</h1></div>

            

            <p class="para">
                When working with self defined validators you can give a forth parameter
                to  <span class="methodname">Zend_Validate::is()</span> which is the namespace
                where your validator can be found.
            </p>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Validate::<span style="color: #006600;">is</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$value</span>, <span style="color: #ff0000;">'MyValidator'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">1</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'FirstNamespace'</span>, <span style="color: #ff0000;">'SecondNamespace'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Yes, $value is ok</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


            <p class="para">
                <span class="classname">Zend_Validate</span> allows also to set namespaces as default.
                This means that you can set them once in your bootstrap and have not to give
                them again for each call of  <span class="methodname">Zend_Validate::is()</span>. The
                following code snippet is identical to the above one.
            </p>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Validate::<span style="color: #006600;">setDefaultNamespaces</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'FirstNamespace'</span>, <span style="color: #ff0000;">'SecondNamespace'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Validate::<span style="color: #006600;">is</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$value</span>, <span style="color: #ff0000;">'MyValidator'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">1</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Yes, $value is ok</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Validate::<span style="color: #006600;">is</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$value</span>, <span style="color: #ff0000;">'OtherValidator'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">1</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Yes, $value is ok</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


            <p class="para">
                For your convinience there are following methods which allow the handling of
                namespaces:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"> <span class="methodname">Zend_Validator::getDefaultNamespaces()</span></em>:
                        Returns all set default namespaces as array.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"> <span class="methodname">Zend_Validator::setDefaultNamespaces()</span></em>:
                        Sets new default namespaces and overrides any previous set. It accepts
                        eighter a string for a single namespace of an array for multiple namespaces.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"> <span class="methodname">Zend_Validator::addDefaultNamespaces()</span></em>:
                        Adds additional namespaces to already set ones. It accepts eighter a string
                        for a single namespace of an array for multiple namespaces.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"> <span class="methodname">Zend_Validator::hasDefaultNamespaces()</span></em>:
                        Returns true when one or more default namespaces are set, and false when no
                        default namespaces are set.
                    </p>
                </li>
            </ul>
        </div>
    </div>

    <div class="section" id="zend.validate.introduction.translation" name="zend.validate.introduction.translation"><div class="info"><h1 class="title">Translating messages</h1></div>
        

        <p class="para">
            Validate classes provide a  <span class="methodname">setTranslator()</span> method with
            which you can specify a instance of <span class="classname">Zend_Translate</span> which
            will translate the messages in case of a validation failure. The
             <span class="methodname">getTranslator()</span> method returns the set translator instance.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$validator</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Validate_StringLength<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">8</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$translate</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Translate<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'array'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span>Zend_Validate_StringLength::<span style="color: #006600;">TOO_SHORT</span> =&gt; <span style="color: #ff0000;">'Translated <span style="color: #000099; font-weight: bold;">\'</span>%value%<span style="color: #000099; font-weight: bold;">\'</span>'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'en'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$validator</span>-&gt;<span style="color: #006600;">setTranslator</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$translate</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            With the static  <span class="methodname">setDefaultTranslator()</span> method you can set
            a instance of <span class="classname">Zend_Translate</span> which will be used for all
            validation classes, and can be retrieved with  <span class="methodname">getDefaultTranslator()</span>.
            This prevents you from setting a translator manually for all validator classes,
            and simplifies your code.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$translate</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Translate<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'array'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span>Zend_Validate_StringLength::<span style="color: #006600;">TOO_SHORT</span> =&gt; <span style="color: #ff0000;">'Translated <span style="color: #000099; font-weight: bold;">\'</span>%value%<span style="color: #000099; font-weight: bold;">\'</span>'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'en'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Validate::<span style="color: #006600;">setDefaultTranslator</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$translate</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: 
            
                When you have set an application wide locale within your registry, then this
                locale will be used as default translator.
            <br />
        </p></blockquote>

        <p class="para">
            Sometimes it is necessary to disable the translator within a validator.
            To archive this you can use the  <span class="methodname">setDisableTranslator()</span> method,
            which accepts a boolean parameter, and  <span class="methodname">translatorIsDisabled()</span>
            to get the set value.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$validator</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Validate_StringLength<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">8</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">12</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>!<span style="color: #0000ff;">$validator</span>-&gt;<span style="color: #006600;">isTranslatorDisabled</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$validator</span>-&gt;<span style="color: #006600;">setDisableTranslator</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


        <p class="para">
            It is also possible to use a translator instead of setting own messages with
             <span class="methodname">setMessage()</span>. But doing so, you should keep in mind, that the
            translator works also on messages you set your own.
        </p>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.validate.html">Zend_Validate</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.validate.html">Zend_Validate</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.validate.set.html">Classes de validation standard</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.validate.html">Zend_Validate</a></li>
  <li class="active"><a href="zend.validate.introduction.html">Introduction</a></li>
  <li><a href="zend.validate.set.html">Classes de validation standard</a></li>
  <li><a href="zend.validate.validator_chains.html">Cha&icirc;nes de validation</a></li>
  <li><a href="zend.validate.writing_validators.html">&Eacute;crire des validateurs</a></li>
  <li><a href="zend.validate.messages.html">Messages de validation</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>